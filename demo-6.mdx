import { App } from './demo-6/App.js'
import { CodeSurferLayout } from 'code-surfer'

<CodeSurferLayout>

```jsx title="Utilize Guards" subtitle="by sending event payload"
import React from 'react'
import { Button, Modal } from './Components'
import { modalMachine } from './machine'
import { useMachine } from './useMachine'

export const App = () => {
  const [current, send] = useMachine(modalMachine, { devTools: true })

  const handleOpen = () => send('OPEN')
  const handleClose = () => send('CLOSE')
  const handleView = () => send('VIEW')
  const handleEdit = () => send('EDIT')
  const handleBack = () => send('BACK')
  const handleSubmit = () => send('SUBMIT')

  return (
    <main class="app">
      <Button onClick={handleOpen}>Open Modal</Button>
      <Modal
        onCancel={handleClose}
        stateValue={current.value.visible}
        onView={handleView}
        onEdit={handleEdit}
        onBack={handleBack}
        onSubmit={handleSubmit}
      />
    </main>
  )
}
```

```jsx 9 title="Utilize Guards" subtitle="Refactor event handlers to send payload"
import React from 'react'
import { Button, Modal } from './Components'
import { modalMachine } from './machine'
import { useMachine } from './useMachine'

export const App = () => {
  const [current, send] = useMachine(modalMachine, { devTools: true })

  const handleOpen = () => send('OPEN')
  const handleClose = () => send('CLOSE')
  const handleView = () => send('VIEW')
  const handleEdit = () => send('EDIT')
  const handleBack = () => send('BACK')
  const handleSubmit = () => send('SUBMIT')

  return (
    <main class="app">
      <Button onClick={handleOpen}>Open Modal</Button>
      <Modal
        onCancel={handleClose}
        stateValue={current.value.visible}
        onView={handleView}
        onEdit={handleEdit}
        onBack={handleBack}
        onSubmit={handleSubmit}
      />
    </main>
  )
}
```

```jsx 9:11 title="Utilize Guards" subtitle="Refactor event handlers to send payload"
import React from 'react'
import { Button, Modal } from './Components'
import { modalMachine } from './machine'
import { useMachine } from './useMachine'

export const App = () => {
  const [current, send] = useMachine(modalMachine, { devTools: true })

  const handleOpenMultiple = () => send({ type: 'OPEN', data: ['', ''] })
  const handleOpenSingle = () => send({ type: 'OPEN', data: [''] })
  const handleOpenEmpty = () => send({ type: 'OPEN', data: [] })
  const handleClose = () => send('CLOSE')
  const handleView = () => send('VIEW')
  const handleEdit = () => send('EDIT')
  const handleBack = () => send('BACK')
  const handleSubmit = () => send('SUBMIT')

  return (
    <main class="app">
      <Button onClick={handleOpen}>Open Modal</Button>
      <Modal
        onCancel={handleClose}
        stateValue={current.value.visible}
        onView={handleView}
        onEdit={handleEdit}
        onBack={handleBack}
        onSubmit={handleSubmit}
      />
    </main>
  )
}
```

```jsx 20:22 title="Utilize Guards" subtitle="Add trigger to the event handlers"
import React from 'react'
import { Button, Modal } from './Components'
import { modalMachine } from './machine'
import { useMachine } from './useMachine'

export const App = () => {
  const [current, send] = useMachine(modalMachine, { devTools: true })

  const handleOpenMultiple = () => send({ type: 'OPEN', data: ['', ''] })
  const handleOpenSingle = () => send({ type: 'OPEN', data: [''] })
  const handleOpenEmpty = () => send({ type: 'OPEN', data: [] })
  const handleClose = () => send('CLOSE')
  const handleView = () => send('VIEW')
  const handleEdit = () => send('EDIT')
  const handleBack = () => send('BACK')
  const handleSubmit = () => send('SUBMIT')

  return (
    <main class="app">
      <Button onClick={handleOpenMultiple}>Multiple Items</Button>
      <Button onClick={handleOpenSingle}>Single Item</Button>
      <Button onClick={handleOpenEmpty}>No Item</Button>
      <Modal
        onCancel={handleClose}
        stateValue={current.value.visible}
        onView={handleView}
        onEdit={handleEdit}
        onBack={handleBack}
        onSubmit={handleSubmit}
      />
    </main>
  )
}
```

</CodeSurferLayout>

---

<App />
